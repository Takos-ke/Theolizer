<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Theolizer: THEOLIZER_PROCESS()の使用例</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="my_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Theolizer
   &#160;<span id="projectnumber">Version.0.4.3</span>
   </div>
   <div id="projectbrief">serializer for C++ / Do you want to update your classes easily ?</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_basic_process.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">THEOLIZER_PROCESS()の使用例 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ここでは、THEOLIZER_PROCESS()による保存／回復の網羅的な使用例（自動テスト）について説明します。<br />
 クラスは単純なものを使います。クラスの詳細な使い方は「<a class="el" href="_class_variation.html">クラスのバリエーション</a> 」で説明します。<br />
 ここではポインタ型とオーナー・ポインタ型の説明と自動テストは行いません。これらについては「<a class="el" href="_object_tracking.html">オブジェクト追跡について</a> 」で行います。<br />
</p>
<p><br />
 </p><h6></h6>
<h1><a class="anchor" id="DefinitionEnumClass"></a>
1.クラスとenum型の定義</h1>
<h6></h6>
<p><b>source/reference_and_test/version/ver1/test_basic_process.h</b> で、次のようなクラスとenum型を定義しています。</p>
<p>enum型は従来のenum型と、C++11で追加されたscoped enum型の２つをテストします。</p>
 <div class="fragment"><div class="line"><span class="keyword">enum</span> NormalEnum</div><div class="line">{</div><div class="line">    eneZero,</div><div class="line">    eneOne,</div><div class="line">    eneTwo</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">enum class</span> ScopedEnum : long</div><div class="line">{</div><div class="line">    ZERO,</div><div class="line">    ONE,</div><div class="line">    TWO</div><div class="line">};</div></div><!-- fragment --></p>
<p>クラス型はテストを容易にするため、非侵入型完全自動を用いています。<br />
 同様にメンバ変数をpublicにしたいのでstructを用いています。<br />
 （幾つか制約事項があります。「<a class="el" href="_class_variation.html">クラスのバリエーション</a> 」にて説明します。）<br />
 また、自動テストの記述を簡単化するため、下記を定義しています。</p><ul>
<li>初期化用のコンストラクタ</li>
<li>比較演算子(operator==)</li>
<li>std::ostreamへのフレンド出力演算子(operator&lt;&lt;)</li>
</ul>
<p><div class="fragment"><div class="line"><span class="keyword">struct </span>ClassBasicTest</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span>         mInt;</div><div class="line">    std::string mString;</div><div class="line">    NormalEnum  mNormalEnum;</div><div class="line"></div><div class="line">    ClassBasicTest() : mInt(0), mString(<span class="stringliteral">&quot;&quot;</span>), mNormalEnum(eneZero)</div><div class="line">    { }</div><div class="line"></div><div class="line">    <span class="comment">// 以下は自動テスト（配列）用の定義</span></div><div class="line">    ClassBasicTest(<span class="keywordtype">int</span> iInt, <span class="keywordtype">char</span> <span class="keyword">const</span>* iString, NormalEnum iNormalEnum) :</div><div class="line">        mInt(iInt),</div><div class="line">        mString(iString),</div><div class="line">        mNormalEnum(iNormalEnum)</div><div class="line">    { }</div><div class="line"></div><div class="line">    <span class="keywordtype">bool</span> operator==(ClassBasicTest <span class="keyword">const</span>&amp; iRhs)<span class="keyword"> const</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="keywordflow">return</span> (mInt==iRhs.mInt) &amp;&amp; (mString==iRhs.mString) &amp;&amp; (mNormalEnum==iRhs.mNormalEnum);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="namespacetheolizer.html#a7097c661ad7dc54337a7c094a3c89c41">operator&lt;&lt;</a>(std::ostream&amp; iOStream, ClassBasicTest <span class="keyword">const</span>&amp; iRhs)</div><div class="line">    {</div><div class="line">        iOStream &lt;&lt;<span class="stringliteral">&quot;(&quot;</span>&lt;&lt; iRhs.mInt &lt;&lt; <span class="stringliteral">&quot;, \&quot;&quot;</span> &lt;&lt; iRhs.mString &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span> &lt;&lt; iRhs.mNormalEnum&lt;&lt;<span class="stringliteral">&quot;)&quot;</span>;</div><div class="line">        <span class="keywordflow">return</span> iOStream;</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --></p>
<p><br />
 </p><h6></h6>
<h1><a class="anchor" id="TestBasicProcess"></a>
2.網羅的な使用例（自動テスト）の説明</h1>
<h6></h6>
<p>以下のアイテムを保存し、回復して保存した値と同じ値が回復できたことを、全てのシリアライザの全ての書式指定オプションに対して確認しています。（<a class="el" href="_usage_total.html#TestProgram">4.テスト・プログラムの構造</a> 参照）</p>
<ul>
<li>C++言語がサポートする組み込み型全て<br />
 char, signed char, unsigned char, wchar_t, u16char, u32char,<br />
 short, int, long, long long,<br />
 unsigned short, unsigned int, unsigned long, unsigned long long,<br />
 float, double, long double<br />
 <br />
</li>
<li><p class="startli">C++11規格にて定義されている文字列型全て<br />
 std::string, std::wstring, std::u16string, std::u32string<br />
 C言語文字列（例："foo"）はchar型変数の配列として保存されます。<br />
</p>
<p class="startli"><b>１バイト文字列リテラルは要注意事項があります。</b><br />
 Visual Studioの１バイト文字列リテラルはShift-JIS等のNarrow文字列です。UTF-8ではありません。<br />
 Theolizerは１バイト文字列はUTF-8として取り扱いますので、u8"foo"のように必ずu8プリフィクスを付けて下さい。<br />
</p>
</li>
<li>enum型<br />
 従来のenum型、scoped enum型<br />
 <br />
</li>
<li>クラス型<br />
 ここでは使い方を示すための1種類のみ。細かいテストは「<a class="el" href="_class_variation.html">クラスのバリエーション</a> 」にて実施します。<br />
 <br />
</li>
<li>右辺値（リテラルや式）が保存でき、同じ型の変数へ回復できること<br />
 int, long, long long,<br />
 unsigned int, unsigned long, unsigned long long,<br />
 float, double, long double,<br />
 std::string, std::wstring, std::u16string, std::u32string<br />
 <br />
</li>
<li>配列 上記全ての型に対する1次元、2次元、3次元配列についてテストします。 saveTestArray(), loadTestArray()と言う関数テンプレトを使っています。 型と最下位次元の要素数を指定すると、その型の1次元、2次元、3次元配列を生成して保存し、回復後の値をチェックします。 設定する値とチェックする値は、それぞれの関数呼び出し時にラムダ式で与えています。</li>
</ul>
<p><b>保存処理（source/reference_and_test/version/ver1/test_basic_process.cpp）</b><br />
 </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> tSerializer&gt;</div><div class="line"><span class="keywordtype">void</span> saveBasicProcess(tSerializer&amp; iSerializer)</div><div class="line">{</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 文字型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">char</span>            aChar = 100;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar);</div><div class="line">    <span class="keywordtype">signed</span> <span class="keywordtype">char</span>     aSChar=-101;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aSChar);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   aUChar= 102;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUChar);</div><div class="line"></div><div class="line">    <span class="keywordtype">wchar_t</span>         aWchar  =1000;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aWchar);</div><div class="line"></div><div class="line">    char16_t        aChar16=1001;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar16);</div><div class="line"></div><div class="line">    char32_t        aChar32=1002;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar32);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 整数型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">short</span>           aShort =-2000;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aShort);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  aUShort= 2000;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUShort);</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span>             aInt =-3000;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aInt);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    aUInt= 3000U;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUInt);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span>            aLong =-4000L;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLong);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   aULong= 4000UL;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULong);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span> <span class="keywordtype">long</span>           aLongLong =-5000LL;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongLong);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  aULongLong= 5000ULL;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULongLong);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 浮動小数点型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">float</span>       aFloat     =1.23456F;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aFloat);</div><div class="line"></div><div class="line">    <span class="keywordtype">double</span>      aDouble    =1.23456789012345;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aDouble);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span> <span class="keywordtype">double</span> aLongDouble=1.23456789012345L;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongDouble);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 文字列型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    std::string aString=u8<span class="stringliteral">&quot;ＵＴＦ－８&quot;</span>;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aString);</div><div class="line"></div><div class="line">    std::wstring aWstring=L<span class="stringliteral">&quot;ＵＴＦ－１６／３２&quot;</span>;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aWstring);</div><div class="line"></div><div class="line">    std::u16string aU16string=u<span class="stringliteral">&quot;ＵＴＦ－１６&quot;</span>;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU16string);</div><div class="line"></div><div class="line">    std::u32string aU32string=U<span class="stringliteral">&quot;ＵＴＦ－３２&quot;</span>;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU32string);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; enum型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    NormalEnum aNormalEnum=eneOne;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aNormalEnum);</div><div class="line"></div><div class="line">    ScopedEnum aScopedEnum=ScopedEnum::TWO;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aScopedEnum);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; クラス &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    ClassBasicTest  aClassBasicTest(10000, <span class="stringliteral">&quot;10000&quot;</span>, eneTwo);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aClassBasicTest);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 右辺値保存 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, -3100);</div><div class="line">    THEOLIZER_PROCESS(iSerializer,  3100U);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, -4100L);</div><div class="line">    THEOLIZER_PROCESS(iSerializer,  4100UL);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, -5100LL);</div><div class="line">    THEOLIZER_PROCESS(iSerializer,  5100ULL);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, 2.23456F);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, 2.23456789012345);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, 2.23456789012345L);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, std::string(u8<span class="stringliteral">&quot;rvalue:ＵＴＦ－８&quot;</span>));</div><div class="line">    THEOLIZER_PROCESS(iSerializer, std::wstring(L<span class="stringliteral">&quot;rvalue:ＵＴＦ－１６／３２&quot;</span>));</div><div class="line">    THEOLIZER_PROCESS(iSerializer, std::u16string(u<span class="stringliteral">&quot;rvalue:ＵＴＦ－１６&quot;</span>));</div><div class="line">    THEOLIZER_PROCESS(iSerializer, std::u32string(U<span class="stringliteral">&quot;rvalue:ＵＴＦ－３２&quot;</span>));</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, eneTwo);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, ScopedEnum::ONE);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, ClassBasicTest(20000, <span class="stringliteral">&quot;20000&quot;</span>, eneOne));</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 配列保存 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="comment">// 文字型</span></div><div class="line">    saveTestArray&lt;char, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;signed char, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">signed</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;unsigned char, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;wchar_t, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">wchar_t</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;char16_t, 9&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>char16_t<span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;char32_t, 10&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>char32_t<span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 整数型</span></div><div class="line">    saveTestArray&lt;short, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">short</span><span class="keyword">&gt;</span>(i*10);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;unsigned short, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span><span class="keyword">&gt;</span>(i*10);}</div><div class="line">    );</div><div class="line"></div><div class="line">    saveTestArray&lt;int, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i*100);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;unsigned int, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(i*100);}</div><div class="line">    );</div><div class="line"></div><div class="line">    saveTestArray&lt;long, 9&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*1000);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;unsigned long, 10&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*1000);}</div><div class="line">    );</div><div class="line"></div><div class="line">    saveTestArray&lt;long long, 11&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*10000);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;unsigned long long, 12&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*10000);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 浮動小数点型</span></div><div class="line">    saveTestArray&lt;float, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i+0.1);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;double, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> i+0.2;}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;long double, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">double</span><span class="keyword">&gt;</span>(i+0.3);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 文字列型</span></div><div class="line">    saveTestArray&lt;std::string, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> std::to_string(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;std::wstring, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> std::to_wstring(i);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;std::u16string, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <a class="code" href="classtheolizer_1_1u8string.html">theolizer::u8string</a>(std::to_string(i)).get_u16string();}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;std::u32string, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <a class="code" href="classtheolizer_1_1u8string.html">theolizer::u8string</a>(std::to_string(i)).get_u32string();}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// enum型</span></div><div class="line">    saveTestArray&lt;NormalEnum, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>NormalEnum<span class="keyword">&gt;</span>(i % 3);}</div><div class="line">    );</div><div class="line">    saveTestArray&lt;ScopedEnum, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ScopedEnum<span class="keyword">&gt;</span>(i % 3);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// クラス型</span></div><div class="line">    saveTestArray&lt;ClassBasicTest, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span>  ClassBasicTest</div><div class="line">                    (</div><div class="line">                        static_cast&lt;int&gt;(i),</div><div class="line">                        std::to_string(i).c_str(),</div><div class="line">                        static_cast&lt;NormalEnum&gt;(i % 3)</div><div class="line">                    );</div><div class="line">        }</div><div class="line">    );</div><div class="line">}</div></div><!-- fragment --><p> <b>多次元配列の保存処理（source/reference_and_test/version/ver1/common.h）</b><br />
 </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> tType, std::<span class="keywordtype">size_t</span> N, <span class="keyword">class</span> tSerializer, <span class="keyword">typename</span> tFunc&gt;</div><div class="line"><span class="keywordtype">void</span> saveTestArray(tSerializer&amp; iSerializer, tFunc iFunc)</div><div class="line">{</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;        saveTestArray&lt;&quot;</span></div><div class="line">              &lt;&lt; THEOLIZER_INTERNAL_TYPE_NAME(tType) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; N &lt;&lt; <span class="stringliteral">&quot;&gt;\n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// 1次元配列</span></div><div class="line">    tType aArray1[N];</div><div class="line">    <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">    {</div><div class="line">        <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">        aArray1[i]=iFunc(i);</div><div class="line">    }</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray1);</div><div class="line"></div><div class="line">    <span class="comment">// 2次元配列</span></div><div class="line">    tType aArray2[2][N];</div><div class="line">    <span class="keywordflow">for</span> (std::size_t j=0; j &lt; 2; ++j)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">        {</div><div class="line">            <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">            aArray2[j][i]=iFunc(i+j);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray2);</div><div class="line"></div><div class="line">    <span class="comment">// 3次元配列</span></div><div class="line">    tType aArray3[3][2][N];</div><div class="line">    <span class="keywordflow">for</span> (std::size_t k=0; k &lt; 3; ++k)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">for</span> (std::size_t j=0; j &lt; 2; ++j)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">            {</div><div class="line">                <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">               aArray3[k][j][i]=iFunc(i+j+k);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray3);</div><div class="line">}</div></div><!-- fragment --><p> <b>回復処理（source/reference_and_test/version/ver1/test_basic_process.cpp）</b><br />
 </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> tSerializer&gt;</div><div class="line"><span class="keywordtype">void</span> loadBasicProcess(tSerializer&amp; iSerializer)</div><div class="line">{</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 文字型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">char</span>            aChar =0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aChar, 100);</div><div class="line">    <span class="keywordtype">signed</span> <span class="keywordtype">char</span>     aSChar=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aSChar);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aSChar, -101);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   aUChar=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUChar);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aUChar, 102);</div><div class="line"></div><div class="line">    <span class="keywordtype">wchar_t</span>         aWchar  =0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aWchar);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aWchar, 1000);</div><div class="line"></div><div class="line">    char16_t        aChar16=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar16);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aChar16, 1001);</div><div class="line"></div><div class="line">    char32_t        aChar32=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aChar32);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aChar32, 1002);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 整数型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">short</span>           aShort=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aShort);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aShort, -2000);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  aUShort=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUShort);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aUShort, 2000);</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span>             aInt=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aInt);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aInt, -3000);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    aUInt=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUInt);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aUInt, 3000U);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span>            aLong=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLong, -4000L);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   aULong=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aULong, 4000UL);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span> <span class="keywordtype">long</span>       aLongLong=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLongLong, -5000LL);</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  aULongLong=0;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULongLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aULongLong, 5000ULL);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 浮動小数点型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="keywordtype">float</span>       aFloat;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aFloat);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aFloat, 1.23456F);</div><div class="line"></div><div class="line">    <span class="keywordtype">double</span>      aDouble;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aDouble);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aDouble, 1.23456789012345);</div><div class="line"></div><div class="line">    <span class="keywordtype">long</span> <span class="keywordtype">double</span> aLongDouble;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongDouble);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLongDouble, 1.23456789012345L);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 文字列型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    std::string aString;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aString);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aString, u8<span class="stringliteral">&quot;ＵＴＦ－８&quot;</span>);</div><div class="line"></div><div class="line">    std::wstring aWstring;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aWstring);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aWstring, L<span class="stringliteral">&quot;ＵＴＦ－１６／３２&quot;</span>);</div><div class="line"></div><div class="line">    std::u16string aU16string;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU16string);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aU16string, u<span class="stringliteral">&quot;ＵＴＦ－１６&quot;</span>);</div><div class="line"></div><div class="line">    std::u32string aU32string;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU32string);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aU32string, U<span class="stringliteral">&quot;ＵＴＦ－３２&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; enum型 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    NormalEnum aNormalEnum=eneZero;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aNormalEnum);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aNormalEnum, eneOne);</div><div class="line"></div><div class="line">    ScopedEnum aScopedEnum=ScopedEnum::ZERO;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aScopedEnum);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aScopedEnum, ScopedEnum::TWO);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; クラス &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    ClassBasicTest  aClassBasicTest;</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aClassBasicTest);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mInt, 10000);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mString, <span class="stringliteral">&quot;10000&quot;</span>);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mNormalEnum, eneTwo);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 右辺値保存からの回復 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aInt);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aInt, -3100);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aUInt);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aUInt, 3100);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLong, -4100L);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aULong, 4100UL);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLongLong, -5100LL);</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aULongLong);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aULongLong, 5100ULL);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aFloat);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aFloat, 2.23456F);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aDouble);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aDouble, 2.23456789012345);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aLongDouble);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aLongDouble, 2.23456789012345L);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aString);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aString, u8<span class="stringliteral">&quot;rvalue:ＵＴＦ－８&quot;</span>);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aWstring);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aWstring, L<span class="stringliteral">&quot;rvalue:ＵＴＦ－１６／３２&quot;</span>);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU16string);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aU16string, u<span class="stringliteral">&quot;rvalue:ＵＴＦ－１６&quot;</span>);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aU32string);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aU32string, U<span class="stringliteral">&quot;rvalue:ＵＴＦ－３２&quot;</span>);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aNormalEnum);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aNormalEnum, eneTwo);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aScopedEnum);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aScopedEnum, ScopedEnum::ONE);</div><div class="line"></div><div class="line">    THEOLIZER_PROCESS(iSerializer, aClassBasicTest);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mInt, 20000);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mString, <span class="stringliteral">&quot;20000&quot;</span>);</div><div class="line">    <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aClassBasicTest.mNormalEnum, eneOne);</div><div class="line"></div><div class="line"><span class="comment">//      ---&lt;&lt;&lt; 配列回復 &gt;&gt;&gt;---</span></div><div class="line"></div><div class="line">    <span class="comment">// 文字型</span></div><div class="line">    loadTestArray&lt;char, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;signed char, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">signed</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;unsigned char, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;wchar_t, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">wchar_t</span><span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;char16_t, 9&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>char16_t<span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;char32_t, 10&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>char32_t<span class="keyword">&gt;</span>(i);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 整数型</span></div><div class="line">    loadTestArray&lt;short, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">short</span><span class="keyword">&gt;</span>(i*10);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;unsigned short, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span><span class="keyword">&gt;</span>(i*10);}</div><div class="line">    );</div><div class="line"></div><div class="line">    loadTestArray&lt;int, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i*100);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;unsigned int, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(i*100);}</div><div class="line">    );</div><div class="line"></div><div class="line">    loadTestArray&lt;long, 9&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*1000);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;unsigned long, 10&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*1000);}</div><div class="line">    );</div><div class="line"></div><div class="line">    loadTestArray&lt;long long, 11&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*10000);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;unsigned long long, 12&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(i*10000);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 浮動小数点型</span></div><div class="line">    loadTestArray&lt;float, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i+0.1);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;double, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> i+0.2;}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;long double, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">double</span><span class="keyword">&gt;</span>(i+0.3);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// 文字列型</span></div><div class="line">    loadTestArray&lt;std::string, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> std::to_string(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;std::wstring, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> std::to_wstring(i);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;std::u16string, 7&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <a class="code" href="classtheolizer_1_1u8string.html">theolizer::u8string</a>(std::to_string(i)).get_u16string();}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;std::u32string, 8&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <a class="code" href="classtheolizer_1_1u8string.html">theolizer::u8string</a>(std::to_string(i)).get_u32string();}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// enum型</span></div><div class="line">    loadTestArray&lt;NormalEnum, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>NormalEnum<span class="keyword">&gt;</span>(i % 3);}</div><div class="line">    );</div><div class="line">    loadTestArray&lt;ScopedEnum, 6&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i){<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ScopedEnum<span class="keyword">&gt;</span>(i % 3);}</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// クラス型</span></div><div class="line">    loadTestArray&lt;ClassBasicTest, 5&gt;</div><div class="line">    (</div><div class="line">        iSerializer,</div><div class="line">        [](std::size_t i)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span>  ClassBasicTest</div><div class="line">                    (</div><div class="line">                        static_cast&lt;int&gt;(i),</div><div class="line">                        std::to_string(i).c_str(),</div><div class="line">                        static_cast&lt;NormalEnum&gt;(i % 3)</div><div class="line">                    );</div><div class="line">        }</div><div class="line">    );</div><div class="line">}</div></div><!-- fragment --><p> <b>多次元配列の回復処理（source/reference_and_test/version/ver1/common.h）</b><br />
 </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> tType, std::<span class="keywordtype">size_t</span> N, <span class="keyword">class</span> tSerializer, <span class="keyword">typename</span> tFunc&gt;</div><div class="line"><span class="keywordtype">void</span> loadTestArray(tSerializer&amp; iSerializer, tFunc iFunc)</div><div class="line">{</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;        loadTestArray&lt;&quot;</span></div><div class="line">              &lt;&lt; THEOLIZER_INTERNAL_TYPE_NAME(tType) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; N &lt;&lt; <span class="stringliteral">&quot;&gt;\n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// 1次元配列</span></div><div class="line">    tType aArray1[N];</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray1);</div><div class="line">    <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">    {</div><div class="line">        tType aTemp=iFunc(i);</div><div class="line">        <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">        <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aArray1[i], aTemp, i);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// 2次元配列</span></div><div class="line">    tType aArray2[2][N];</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray2);</div><div class="line">    <span class="keywordflow">for</span> (std::size_t j=0; j &lt; 2; ++j)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">        {</div><div class="line">            tType aTemp=iFunc(i+j);</div><div class="line">            <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">            <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aArray2[j][i], aTemp, i, j);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// 3次元配列</span></div><div class="line">    tType aArray3[3][2][N];</div><div class="line">    THEOLIZER_PROCESS(iSerializer, aArray3);</div><div class="line">    <span class="keywordflow">for</span> (std::size_t k=0; k &lt; 3; ++k)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">for</span> (std::size_t j=0; j &lt; 2; ++j)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (std::size_t i=0; i &lt; N; ++i)</div><div class="line">            {</div><div class="line">                tType aTemp=iFunc(i+j+k);</div><div class="line">                <a class="code" href="namespacetheolizer.html#a796e09d6ba16820902a6ec9688f053e8">theolizer::cutOptimize</a>();</div><div class="line">                <a class="code" href="test__tool_8h.html#a18ee4fc860ce5018ecf84738dfbb6b30">THEOLIZER_EQUAL</a>(aArray3[k][j][i], aTemp, i, j, k);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">--目次--</a></li><li class="navelem"><a class="el" href="_usage_individual.html">使用方法（個別）</a></li>
    <li class="footer">構築:
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
